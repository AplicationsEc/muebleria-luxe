"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[404],{356:(e,t,a)=>{a.d(t,{I:()=>n});let s="https://raw.githubusercontent.com/felipeAlmEspa/luxeApi/master/data.json",n={getProductos:async()=>{try{var e;let t=await fetch(s);if(!t.ok)throw Error("Error al obtener los productos");let a=await t.json();return null!==(e=a.data)&&void 0!==e?e:[]}catch(e){return console.error("Error al obtener los productos:",e),[]}},getProductoById:async e=>{try{var t;let a=await fetch(s);if(!a.ok)throw Error("Error al obtener el producto");let n=await a.json();return(null!==(t=n.data)&&void 0!==t?t:[]).find(t=>t.id===e)||null}catch(e){return console.error("Error al obtener el producto por ID:",e),null}},getCategories:async()=>{try{var e;let t=await fetch(s);if(!t.ok)throw Error("Error al obtener las categor\xedas");let a=await t.json(),n=null!==(e=a.data)&&void 0!==e?e:[];return[...new Set(n.map(e=>e.categoria))].filter(e=>!!e)}catch(e){return console.error("Error al obtener las categor\xedas:",e),[]}}}},2714:(e,t,a)=>{a.d(t,{J:()=>o});var s=a(5155);a(2115);var n=a(968),r=a(3999);function o(e){let{className:t,...a}=e;return(0,s.jsx)(n.b,{"data-slot":"label",className:(0,r.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...a})}},3999:(e,t,a)=>{a.d(t,{cn:()=>r});var s=a(2596),n=a(9688);function r(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,n.QP)((0,s.$)(t))}},4988:(e,t,a)=>{a.d(t,{K:()=>s}),a(9509).env.NEXT_PUBLIC_URL_SERVER;let s={nombreEmpresa:"Muebleria Luxe",logo:"logo-luxe",slogan:"La mejor calidad en muebles",telefono:"+56912345678",email:"sinemail@gmail.com",baseUrl:"catalogo",whatsapp:"593987159087",urlAppProd:"https://felipealmespa.github.io/muebleria-luxe/catalogo"}},6037:(e,t,a)=>{a.d(t,{w:()=>o});var s=a(5155);a(2115);var n=a(7489),r=a(3999);function o(e){let{className:t,orientation:a="horizontal",decorative:o=!0,...i}=e;return(0,s.jsx)(n.b,{"data-slot":"separator-root",decorative:o,orientation:a,className:(0,r.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...i})}},7168:(e,t,a)=>{a.d(t,{$:()=>l});var s=a(5155);a(2115);var n=a(9708),r=a(2085),o=a(3999);let i=(0,r.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function l(e){let{className:t,variant:a,size:r,asChild:l=!1,...d}=e,c=l?n.DX:"button";return(0,s.jsx)(c,{"data-slot":"button",className:(0,o.cn)(i({variant:a,size:r,className:t})),...d})}},8057:(e,t,a)=>{a.d(t,{h:()=>u});var s=a(5155),n=a(2115),r=a(5196),o=a(7809),i=a(7712),l=a(4616),d=a(7168),c=a(9765);function u(e){let{product:t,compact:a=!1}=e,{addToCart:u,removeFromCart:m,getItemQuantity:x}=(0,c.U)(),[p,h]=(0,n.useState)(!1),f=x(t.id),g=f>0,v=()=>{t.stock<=0||(h(!0),u(t),setTimeout(()=>{h(!1)},1500))};return a?(0,s.jsx)(d.$,{className:"w-full",size:"sm",disabled:t.stock<=0,variant:g?"outline":"default",onClick:v,children:t.stock<=0?"Agotado":p?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.A,{className:"mr-2 h-4 w-4"}),"A\xf1adido"]}):g?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.A,{className:"mr-2 h-4 w-4"}),"En carrito (",f,")"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.A,{className:"mr-2 h-4 w-4"}),"A\xf1adir"]})}):(0,s.jsxs)("div",{className:"space-y-4",children:[g?(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(d.$,{variant:"outline",size:"icon",onClick:()=>m(t.id),children:(0,s.jsx)(i.A,{className:"h-4 w-4"})}),(0,s.jsx)("span",{className:"w-10 text-center font-medium",children:f}),(0,s.jsx)(d.$,{variant:"outline",size:"icon",onClick:v,disabled:t.stock<=f,children:(0,s.jsx)(l.A,{className:"h-4 w-4"})})]}):(0,s.jsx)(d.$,{className:"w-full",size:"lg",disabled:t.stock<=0,onClick:v,children:t.stock<=0?"Agotado":p?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.A,{className:"mr-2 h-5 w-5"}),"A\xf1adido al carrito"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.A,{className:"mr-2 h-5 w-5"}),"A\xf1adir al carrito"]})}),t.stock>0&&t.stock<=5&&(0,s.jsxs)("p",{className:"text-sm text-amber-600",children:["\xa1Solo quedan ",t.stock," unidades!"]})]})}},9765:(e,t,a)=>{a.d(t,{K:()=>T,U:()=>P});var s=a(5155),n=a(2115),r=a(7809),o=a(6766),i=a(6874),l=a.n(i),d=a(7168),c=a(5776),u=a(4416),m=a(3999);function x(e){let{...t}=e;return(0,s.jsx)(c.bL,{"data-slot":"sheet",...t})}function p(e){let{...t}=e;return(0,s.jsx)(c.l9,{"data-slot":"sheet-trigger",...t})}function h(e){let{...t}=e;return(0,s.jsx)(c.ZL,{"data-slot":"sheet-portal",...t})}function f(e){let{className:t,...a}=e;return(0,s.jsx)(c.hJ,{"data-slot":"sheet-overlay",className:(0,m.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...a})}function g(e){let{className:t,children:a,side:n="right",...r}=e;return(0,s.jsxs)(h,{children:[(0,s.jsx)(f,{}),(0,s.jsxs)(c.UC,{"data-slot":"sheet-content",className:(0,m.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500","right"===n&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm","left"===n&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm","top"===n&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b","bottom"===n&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",t),...r,children:[a,(0,s.jsxs)(c.bm,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[(0,s.jsx)(u.A,{className:"size-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function v(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"sheet-header",className:(0,m.cn)("flex flex-col gap-1.5 p-4",t),...a})}function j(e){let{className:t,...a}=e;return(0,s.jsx)(c.hE,{"data-slot":"sheet-title",className:(0,m.cn)("text-foreground font-semibold",t),...a})}var b=a(6037);function N(e){let{...t}=e;return(0,s.jsx)(c.bL,{"data-slot":"dialog",...t})}function y(e){let{...t}=e;return(0,s.jsx)(c.ZL,{"data-slot":"dialog-portal",...t})}function w(e){let{className:t,...a}=e;return(0,s.jsx)(c.hJ,{"data-slot":"dialog-overlay",className:(0,m.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...a})}function k(e){let{className:t,children:a,...n}=e;return(0,s.jsxs)(y,{"data-slot":"dialog-portal",children:[(0,s.jsx)(w,{}),(0,s.jsxs)(c.UC,{"data-slot":"dialog-content",className:(0,m.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...n,children:[a,(0,s.jsxs)(c.bm,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,s.jsx)(u.A,{}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function C(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"dialog-header",className:(0,m.cn)("flex flex-col gap-2 text-center sm:text-left",t),...a})}function E(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"dialog-footer",className:(0,m.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...a})}function z(e){let{className:t,...a}=e;return(0,s.jsx)(c.hE,{"data-slot":"dialog-title",className:(0,m.cn)("text-lg leading-none font-semibold",t),...a})}var A=a(9852),S=a(2714),_=a(6671);function $(e){let{isOpen:t,onClose:a,onConfirm:r,total:o}=e,[i,l]=(0,n.useState)(""),[c,u]=(0,n.useState)("");return(0,s.jsx)(N,{open:t,onOpenChange:a,children:(0,s.jsxs)(k,{className:"sm:max-w-[425px]",children:[(0,s.jsxs)(C,{children:[(0,s.jsx)(z,{children:"Finalizar Compra"}),(0,s.jsx)("small",{className:"text-[10px] text-gray-500",children:"Necesitamos tus datos para poder enviar tu compra e informaci\xf3n del estado de tu compra."})]}),(0,s.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!i){_.oR.error("El nombre es requerido");return}if(0===c.length){_.oR.error("Debe proporcionar al menos un tel\xe9fono");return}r({nombre:i,email:void 0,telefono:c||void 0})},className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(S.J,{htmlFor:"nombre",children:"Nombre completo *"}),(0,s.jsx)(A.p,{id:"nombre",value:i,onChange:e=>l(e.target.value),placeholder:"Ingrese su nombre",required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(S.J,{htmlFor:"telefono",children:"Tel\xe9fono"}),(0,s.jsx)(A.p,{id:"telefono",type:"tel",value:c,onChange:e=>u(e.target.value),placeholder:"Ingrese su tel\xe9fono"})]}),(0,s.jsx)("div",{className:"pt-4 border-t",children:(0,s.jsxs)("div",{className:"flex justify-between items-center font-medium",children:[(0,s.jsx)("span",{children:"Total a pagar:"}),(0,s.jsxs)("span",{children:["$",o.toFixed(2)]})]})}),(0,s.jsxs)(E,{children:[(0,s.jsx)(d.$,{type:"button",variant:"outline",onClick:a,children:"Cancelar"}),(0,s.jsx)(d.$,{type:"submit",children:"Confirmar compra"})]})]})]})})}var q=a(4988),F=a(9509);function I(){let{isOpen:e,closeCart:t,cartItems:a,cartQuantity:i,addToCart:c,openCart:u,removeFromCart:m}=P(),h=a.reduce((e,t)=>e+t.product.precio*t.quantity,0),[f,N]=(0,n.useState)(!1),y=async e=>{let t=localStorage.getItem("usuAgente"),s=a.map(e=>e.product.id),n=q.K.urlAppProd+"?usu_agente="+t,r="[".concat(s.join(","),"]"),o="".concat(n,"?usu_agente=").concat(t||"","&ids=").concat(encodeURIComponent(r)),i=encodeURIComponent("\n    ".concat(q.K.nombreEmpresa,"\n    Hola, soy ").concat(e.nombre,".\n    Email: ").concat(e.email||"No proporcionado",".\n    Tel\xe9fono: ").concat(e.telefono||"No proporcionado",".\n    Agente: ").concat(t||"No asignado",".\n    Estoy interesado en los productos:\n    ").concat(o,"\n    ")),l=F.env.NEXT_PUBLIC_WHATSAPP_NUMERO,d="https://wa.me/".concat(l,"?text=").concat(i);window.open(d,"_blank")};return(0,s.jsxs)(x,{open:e,onOpenChange:e=>{console.log("\uD83C\uDF00 onOpenChange triggered:",e),e?u():t()},children:[(0,s.jsx)(p,{asChild:!0,children:(0,s.jsx)(d.$,{variant:"outline",size:"icon",className:"fixed bottom-4 right-4 h-12 w-12 rounded-full shadow-lg md:bottom-8 md:right-8 z-50",onClick:u,children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(r.A,{className:"h-5 w-5"}),i>0&&(0,s.jsx)("span",{className:"absolute -top-2 -right-2 flex h-5 w-5 items-center justify-center rounded-full bg-primary text-xs text-primary-foreground",children:i})]})})}),(0,s.jsxs)(g,{className:"flex w-full flex-col sm:max-w-lg p-5",children:[(0,s.jsx)(v,{className:"px-1",children:(0,s.jsx)("div",{className:"flex items-center justify-between",children:(0,s.jsx)(j,{children:"Carrito de compras"})})}),0===i?(0,s.jsxs)("div",{className:"flex h-full flex-col items-center justify-center space-y-4",children:[(0,s.jsx)(r.A,{className:"h-12 w-12 text-muted-foreground"}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h3",{className:"text-lg font-medium",children:"Tu carrito est\xe1 vac\xedo"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Parece que no has a\xf1adido ning\xfan producto a tu carrito todav\xeda."})]}),(0,s.jsx)(d.$,{onClick:t,asChild:!0,children:(0,s.jsx)(l(),{href:"/",children:"Explorar productos"})})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"flex-1 overflow-y-auto py-6",children:(0,s.jsx)("div",{className:"space-y-6",children:a.map(e=>(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("div",{className:"relative h-16 w-16 overflow-hidden rounded-md bg-muted",children:e.product.imagenUrl?(0,s.jsx)(o.default,{src:e.product.imagenUrl||"/placeholder.svg",alt:e.product.nombre,fill:!0,className:"object-cover"}):(0,s.jsx)(o.default,{src:"/placeholder.svg?height=64&width=64",alt:"Imagen no disponible",fill:!0,className:"object-cover"})}),(0,s.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,s.jsx)(l(),{href:"/productos/".concat(e.product.id),className:"font-medium hover:underline",onClick:t,children:e.product.nombre}),(0,s.jsxs)("div",{className:"text-sm text-muted-foreground",children:["$",e.product.precio.toFixed(2)," x ",e.quantity]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsxs)(d.$,{variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>m(e.product.id),children:[(0,s.jsx)("span",{className:"sr-only",children:"Eliminar uno"}),(0,s.jsx)("span",{children:"-"})]}),(0,s.jsx)("span",{className:"w-4 text-center",children:e.quantity}),(0,s.jsxs)(d.$,{variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>c(e.product),disabled:e.quantity>=e.product.stock,children:[(0,s.jsx)("span",{className:"sr-only",children:"A\xf1adir uno"}),(0,s.jsx)("span",{children:"+"})]})]})]},e.product.id))})}),(0,s.jsxs)("div",{className:"space-y-4 pt-4",children:[(0,s.jsx)(b.w,{}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Subtotal"}),(0,s.jsxs)("span",{children:["$",h.toFixed(2)]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Env\xedo"}),(0,s.jsx)("span",{children:"Calculado al finalizar"})]}),(0,s.jsx)(b.w,{}),(0,s.jsxs)("div",{className:"flex items-center justify-between font-medium",children:[(0,s.jsx)("span",{children:"Total"}),(0,s.jsxs)("span",{children:["$",h.toFixed(2)]})]})]}),(0,s.jsx)(d.$,{className:"w-full",size:"lg",onClick:()=>N(!0),children:"Finalizar compra"}),(0,s.jsx)(d.$,{variant:"outline",className:"w-full",onClick:t,children:"Continuar comprando"})]})]})]}),f&&(0,s.jsx)($,{isOpen:f,onClose:()=>N(!1),onConfirm:y,total:h})]})}let U=(0,n.createContext)(null);function P(){let e=(0,n.useContext)(U);if(!e)throw Error("useShoppingCart must be used within a ShoppingCartProvider");return e}function T(e){let{children:t}=e,[a,r]=(0,n.useState)(!1),[o,i]=(0,n.useState)([]);(0,n.useEffect)(()=>{try{let e=localStorage.getItem("shopping-cart");e&&i(JSON.parse(e))}catch(e){console.error("Error loading cart from localStorage:",e)}},[]),(0,n.useEffect)(()=>{localStorage.setItem("shopping-cart",JSON.stringify(o))},[o]);let l=o.reduce((e,t)=>e+t.quantity,0);function d(){r(!0)}function c(e){var t;return(null===(t=o.find(t=>t.product.id===e))||void 0===t?void 0:t.quantity)||0}return(0,s.jsxs)(U.Provider,{value:{isOpen:a,openCart:d,closeCart:function(){r(!1)},getItemQuantity:c,addToCart:function(e){i(t=>t.find(t=>t.product.id===e.id)?t.map(t=>t.product.id===e.id?{...t,quantity:t.quantity+1}:t):[...t,{product:e,quantity:1}]),0===c(e.id)&&d()},removeFromCart:function(e){i(t=>{let a=t.find(t=>t.product.id===e);return(null==a?void 0:a.quantity)===1?t.filter(t=>t.product.id!==e):a?t.map(t=>t.product.id===e?{...t,quantity:t.quantity-1}:t):t})},cartQuantity:l,cartItems:o},children:[t,(0,s.jsx)(I,{})]})}},9852:(e,t,a)=>{a.d(t,{p:()=>r});var s=a(5155);a(2115);var n=a(3999);function r(e){let{className:t,type:a,...r}=e;return(0,s.jsx)("input",{type:a,"data-slot":"input",className:(0,n.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...r})}}}]);