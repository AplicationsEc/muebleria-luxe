"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[404],{356:(e,t,a)=>{a.d(t,{I:()=>r});let s="https://raw.githubusercontent.com/felipeAlmEspa/luxeApi/master/data.json",r={getProductos:async()=>{try{var e;let t=await fetch(s);if(!t.ok)throw Error("Error al obtener los productos");let a=await t.json();return null!==(e=a.data)&&void 0!==e?e:[]}catch(e){return console.error("Error al obtener los productos:",e),[]}},getProductoById:async e=>{try{var t;let a=await fetch(s);if(!a.ok)throw Error("Error al obtener el producto");let r=await a.json();return(null!==(t=r.data)&&void 0!==t?t:[]).find(t=>t.id===e)||null}catch(e){return console.error("Error al obtener el producto por ID:",e),null}},getCategories:async()=>{try{var e;let t=await fetch(s);if(!t.ok)throw Error("Error al obtener las categor\xedas");let a=await t.json(),r=null!==(e=a.data)&&void 0!==e?e:[];return[...new Set(r.map(e=>e.categoria))].filter(e=>!!e)}catch(e){return console.error("Error al obtener las categor\xedas:",e),[]}}}},3999:(e,t,a)=>{a.d(t,{cn:()=>n});var s=a(2596),r=a(9688);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.QP)((0,s.$)(t))}},6037:(e,t,a)=>{a.d(t,{w:()=>o});var s=a(5155);a(2115);var r=a(7489),n=a(3999);function o(e){let{className:t,orientation:a="horizontal",decorative:o=!0,...i}=e;return(0,s.jsx)(r.b,{"data-slot":"separator-root",decorative:o,orientation:a,className:(0,n.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...i})}},6191:(e,t,a)=>{a.d(t,{K:()=>k,U:()=>y});var s=a(5155),r=a(2115),n=a(7809),o=a(6766),i=a(6874),l=a.n(i),d=a(7168),c=a(5452),u=a(4416),h=a(3999);function x(e){let{...t}=e;return(0,s.jsx)(c.bL,{"data-slot":"sheet",...t})}function m(e){let{...t}=e;return(0,s.jsx)(c.l9,{"data-slot":"sheet-trigger",...t})}function f(e){let{...t}=e;return(0,s.jsx)(c.ZL,{"data-slot":"sheet-portal",...t})}function p(e){let{className:t,...a}=e;return(0,s.jsx)(c.hJ,{"data-slot":"sheet-overlay",className:(0,h.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...a})}function g(e){let{className:t,children:a,side:r="right",...n}=e;return(0,s.jsxs)(f,{children:[(0,s.jsx)(p,{}),(0,s.jsxs)(c.UC,{"data-slot":"sheet-content",className:(0,h.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500","right"===r&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm","left"===r&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm","top"===r&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b","bottom"===r&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",t),...n,children:[a,(0,s.jsxs)(c.bm,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[(0,s.jsx)(u.A,{className:"size-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function v(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"sheet-header",className:(0,h.cn)("flex flex-col gap-1.5 p-4",t),...a})}function j(e){let{className:t,...a}=e;return(0,s.jsx)(c.hE,{"data-slot":"sheet-title",className:(0,h.cn)("text-foreground font-semibold",t),...a})}var b=a(6037);function w(){let{isOpen:e,closeCart:t,cartItems:a,cartQuantity:r,addToCart:i,openCart:c,removeFromCart:u}=y(),h=a.reduce((e,t)=>e+t.product.precio*t.quantity,0);return(0,s.jsxs)(x,{open:e,onOpenChange:e=>{console.log("\uD83C\uDF00 onOpenChange triggered:",e),e?c():t()},children:[(0,s.jsx)(m,{asChild:!0,children:(0,s.jsx)(d.$,{variant:"outline",size:"icon",className:"fixed bottom-4 right-4 h-12 w-12 rounded-full shadow-lg md:bottom-8 md:right-8 z-50",onClick:c,children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(n.A,{className:"h-5 w-5"}),r>0&&(0,s.jsx)("span",{className:"absolute -top-2 -right-2 flex h-5 w-5 items-center justify-center rounded-full bg-primary text-xs text-primary-foreground",children:r})]})})}),(0,s.jsxs)(g,{className:"flex w-full flex-col sm:max-w-lg p-5",children:[(0,s.jsx)(v,{className:"px-1",children:(0,s.jsx)("div",{className:"flex items-center justify-between",children:(0,s.jsx)(j,{children:"Carrito de compras"})})}),0===r?(0,s.jsxs)("div",{className:"flex h-full flex-col items-center justify-center space-y-4",children:[(0,s.jsx)(n.A,{className:"h-12 w-12 text-muted-foreground"}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h3",{className:"text-lg font-medium",children:"Tu carrito est\xe1 vac\xedo"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Parece que no has a\xf1adido ning\xfan producto a tu carrito todav\xeda."})]}),(0,s.jsx)(d.$,{onClick:t,asChild:!0,children:(0,s.jsx)(l(),{href:"/",children:"Explorar productos"})})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"flex-1 overflow-y-auto py-6",children:(0,s.jsx)("div",{className:"space-y-6",children:a.map(e=>(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("div",{className:"relative h-16 w-16 overflow-hidden rounded-md bg-muted",children:e.product.imagenUrl?(0,s.jsx)(o.default,{src:e.product.imagenUrl||"/placeholder.svg",alt:e.product.nombre,fill:!0,className:"object-cover"}):(0,s.jsx)(o.default,{src:"/placeholder.svg?height=64&width=64",alt:"Imagen no disponible",fill:!0,className:"object-cover"})}),(0,s.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,s.jsx)(l(),{href:"/productos/".concat(e.product.id),className:"font-medium hover:underline",onClick:t,children:e.product.nombre}),(0,s.jsxs)("div",{className:"text-sm text-muted-foreground",children:["$",e.product.precio.toFixed(2)," x ",e.quantity]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsxs)(d.$,{variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>u(e.product.id),children:[(0,s.jsx)("span",{className:"sr-only",children:"Eliminar uno"}),(0,s.jsx)("span",{children:"-"})]}),(0,s.jsx)("span",{className:"w-4 text-center",children:e.quantity}),(0,s.jsxs)(d.$,{variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>i(e.product),disabled:e.quantity>=e.product.stock,children:[(0,s.jsx)("span",{className:"sr-only",children:"A\xf1adir uno"}),(0,s.jsx)("span",{children:"+"})]})]})]},e.product.id))})}),(0,s.jsxs)("div",{className:"space-y-4 pt-4",children:[(0,s.jsx)(b.w,{}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Subtotal"}),(0,s.jsxs)("span",{children:["$",h.toFixed(2)]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Env\xedo"}),(0,s.jsx)("span",{children:"Calculado al finalizar"})]}),(0,s.jsx)(b.w,{}),(0,s.jsxs)("div",{className:"flex items-center justify-between font-medium",children:[(0,s.jsx)("span",{children:"Total"}),(0,s.jsxs)("span",{children:["$",h.toFixed(2)]})]})]}),(0,s.jsx)(d.$,{className:"w-full",size:"lg",children:"Finalizar compra"}),(0,s.jsx)(d.$,{variant:"outline",className:"w-full",onClick:t,children:"Continuar comprando"})]})]})]})]})}let N=(0,r.createContext)(null);function y(){let e=(0,r.useContext)(N);if(!e)throw Error("useShoppingCart must be used within a ShoppingCartProvider");return e}function k(e){let{children:t}=e,[a,n]=(0,r.useState)(!1),[o,i]=(0,r.useState)([]);(0,r.useEffect)(()=>{try{let e=localStorage.getItem("shopping-cart");e&&i(JSON.parse(e))}catch(e){console.error("Error loading cart from localStorage:",e)}},[]),(0,r.useEffect)(()=>{localStorage.setItem("shopping-cart",JSON.stringify(o))},[o]);let l=o.reduce((e,t)=>e+t.quantity,0);function d(){n(!0)}function c(e){var t;return(null===(t=o.find(t=>t.product.id===e))||void 0===t?void 0:t.quantity)||0}return(0,s.jsxs)(N.Provider,{value:{isOpen:a,openCart:d,closeCart:function(){n(!1)},getItemQuantity:c,addToCart:function(e){i(t=>t.find(t=>t.product.id===e.id)?t.map(t=>t.product.id===e.id?{...t,quantity:t.quantity+1}:t):[...t,{product:e,quantity:1}]),0===c(e.id)&&d()},removeFromCart:function(e){i(t=>{let a=t.find(t=>t.product.id===e);return(null==a?void 0:a.quantity)===1?t.filter(t=>t.product.id!==e):a?t.map(t=>t.product.id===e?{...t,quantity:t.quantity-1}:t):t})},cartQuantity:l,cartItems:o},children:[t,(0,s.jsx)(w,{})]})}},7168:(e,t,a)=>{a.d(t,{$:()=>l});var s=a(5155);a(2115);var r=a(9708),n=a(2085),o=a(3999);let i=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function l(e){let{className:t,variant:a,size:n,asChild:l=!1,...d}=e,c=l?r.DX:"button";return(0,s.jsx)(c,{"data-slot":"button",className:(0,o.cn)(i({variant:a,size:n,className:t})),...d})}},8057:(e,t,a)=>{a.d(t,{h:()=>u});var s=a(5155),r=a(2115),n=a(5196),o=a(7809),i=a(7712),l=a(4616),d=a(7168),c=a(6191);function u(e){let{product:t,compact:a=!1}=e,{addToCart:u,removeFromCart:h,getItemQuantity:x}=(0,c.U)(),[m,f]=(0,r.useState)(!1),p=x(t.id),g=p>0,v=()=>{t.stock<=0||(f(!0),u(t),setTimeout(()=>{f(!1)},1500))};return a?(0,s.jsx)(d.$,{className:"w-full",size:"sm",disabled:t.stock<=0,variant:g?"outline":"default",onClick:v,children:t.stock<=0?"Agotado":m?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.A,{className:"mr-2 h-4 w-4"}),"A\xf1adido"]}):g?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.A,{className:"mr-2 h-4 w-4"}),"En carrito (",p,")"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.A,{className:"mr-2 h-4 w-4"}),"A\xf1adir"]})}):(0,s.jsxs)("div",{className:"space-y-4",children:[g?(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(d.$,{variant:"outline",size:"icon",onClick:()=>h(t.id),children:(0,s.jsx)(i.A,{className:"h-4 w-4"})}),(0,s.jsx)("span",{className:"w-10 text-center font-medium",children:p}),(0,s.jsx)(d.$,{variant:"outline",size:"icon",onClick:v,disabled:t.stock<=p,children:(0,s.jsx)(l.A,{className:"h-4 w-4"})})]}):(0,s.jsx)(d.$,{className:"w-full",size:"lg",disabled:t.stock<=0,onClick:v,children:t.stock<=0?"Agotado":m?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.A,{className:"mr-2 h-5 w-5"}),"A\xf1adido al carrito"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.A,{className:"mr-2 h-5 w-5"}),"A\xf1adir al carrito"]})}),t.stock>0&&t.stock<=5&&(0,s.jsxs)("p",{className:"text-sm text-amber-600",children:["\xa1Solo quedan ",t.stock," unidades!"]})]})}}}]);